<input type="hidden" name="attr_noteditable"/><div class="options"><button class="selectChar">Postać</button><button class="isEditable">Edytuj</button></div><div class="modes"><input type="hidden" name="attr_view_mode"/><div class="selectCharacter"><div class="row"><div class="col12 text-center"><h1>Wybierz postać</h1></div><div class="col12 text-center"><h2>Magister Lor</h2></div><div class="col-12 col-md-2 col-lg-4"><button class="selectCharacterButton" data-character="Magister Lor">Magister Lor</button></div><div class="col-12 col-md-2 col-lg-4"><button class="selectCharacterButton" data-character="Kai Tuvari">Kai Tuvari</button></div><div class="col-12 col-md-2 col-lg-4"><button class="selectCharacterButton" data-character="Kel Tuvari">Kel Tuvari</button></div><div class="col-12 col-md-2 col-lg-4"><button class="selectCharacterButton" data-character="Setarra">Setarra</button></div></div></div><div class="character-sheet sheet"><header><div><input type="text" name="attr_character_name" placeholder="Podaj nazwę postaci"/></div><div><textarea rows="2" name="attr_character_description" placeholder="Opis postaci"></textarea></div></header><section><h2>Cechy i Aspekty</h2><div class="magisterlor-container-fluid"><div class="magisterlor-row no-gutters align-items-stretch"><div class="col-12 col-md-6 col-lg-4 col-xl-2"><div class="traitTag"><h3><input type="text" name="attr_trait_0" placeholder="Nazwa kategorii"/></h3><ul><div class="trait magisterlor-row no-gutters align-items-center"><div class="col-12 multi"><fieldset class="repeating_tagx0x0"><div class="magisterlor-row no-gutters align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx0x1"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx0x2"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div></div></ul></div></div><div class="col-12 col-md-6 col-lg-4 col-xl-2"><div class="traitTag"><h3><input type="text" name="attr_trait_1" placeholder="Nazwa kategorii"/></h3><ul><div class="trait magisterlor-row no-gutters align-items-center"><div class="col-12 multi"><fieldset class="repeating_tagx1x0"><div class="magisterlor-row no-gutters align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx1x1"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx1x2"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div></div></ul></div></div><div class="col-12 col-md-6 col-lg-4 col-xl-2"><div class="traitTag"><h3><input type="text" name="attr_trait_2" placeholder="Nazwa kategorii"/></h3><ul><div class="trait magisterlor-row no-gutters align-items-center"><div class="col-12 multi"><fieldset class="repeating_tagx2x0"><div class="magisterlor-row no-gutters align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx2x1"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx2x2"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div></div></ul></div></div><div class="col-12 col-md-6 col-lg-4 col-xl-2"><div class="traitTag"><h3><input type="text" name="attr_trait_3" placeholder="Nazwa kategorii"/></h3><ul><div class="trait magisterlor-row no-gutters align-items-center"><div class="col-12 multi"><fieldset class="repeating_tagx3x0"><div class="magisterlor-row no-gutters align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx3x1"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx3x2"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div></div></ul></div></div><div class="col-12 col-md-6 col-lg-4 col-xl-2"><div class="traitTag"><h3><input type="text" name="attr_trait_4" placeholder="Nazwa kategorii"/></h3><ul><div class="trait magisterlor-row no-gutters align-items-center"><div class="col-12 multi"><fieldset class="repeating_tagx4x0"><div class="magisterlor-row no-gutters align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx4x1"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx4x2"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div></div></ul></div></div><div class="col-12 col-md-6 col-lg-4 col-xl-2"><div class="traitTag"><h3><input type="text" name="attr_trait_5" placeholder="Nazwa kategorii"/></h3><ul><div class="trait magisterlor-row no-gutters align-items-center"><div class="col-12 multi"><fieldset class="repeating_tagx5x0"><div class="magisterlor-row no-gutters align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx5x1"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div><div class="col-12 single"><fieldset class="repeating_tagx5x2"><div class="magisterlor-row no-gutters tag align-items-center"><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_value" value="2"/><span></span></div><div class="name"><input type="text" name="attr_name" placeholder="Aspekt"/></div><div class="rollButton"><input class="sheet-normal" type="checkbox" name="attr_roll"/><span></span></div></div></fieldset></div></div></ul></div></div></div></div></section><section><div class="magisterlor-container-fluid"><div class="magisterlor-row no-gutters"><div class="col-12 col-md-6"><h2>Klucze</h2><div class="lorKeysSecrets"><fieldset class="repeating_keys"><h3><input type="text" name="attr_name" placeholder="Klucz"/></h3><div class="description"><textarea name="attr_description" placeholder="Wstaw opis"></textarea></div><div class="buyoff"><span>Oferta:</span><textarea name="attr_buyoff" placeholder="Wstaw ofertę"></textarea></div></fieldset></div><div class="keysInfo">Kiedy używasz klucza, zaznacz <strong>punkt doświadczenia</strong> (PD). Jeśli pakujesz się w kłopoty z powodu swojego klucza, zaznacz 2 PD. Każdy z kluczy ma również <strong>ofertę</strong>. Jeśli skorzystasz z oferty, możesz trwale usunąć klucz, zastąpić go nowym oraz zaznaczyć 5 PD.</div></div><div class="col-12 col-md-6"><h2>Sekrety</h2><div class="lorKeysSecrets"><fieldset class="repeating_secrets"><h3><input type="text" name="attr_name" placeholder="Sekret"/></h3><div class="description"><textarea name="attr_description" placeholder="Opis"></textarea></div></fieldset></div></div></div><div class="magisterlor-row no-gutters"><div class="col-12 col-md-6 order-md-1"><div class="magisterlor-row no-gutters"><div class="col-8"><h2>Stany</h2><fieldset class="col-12 repeating_condition"><div class="magisterlor-row no-gutters"><div class="checkbox col-2"><input class="sheet-check" type="checkbox" name="attr_checked" value="1"/><span></span></div><div class="name col-10"><input type="text" name="attr_name"/></div></div></fieldset></div><div class="col-4"><h2>Pula</h2><p class="poll-small">Maksimum</p><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_pool_max" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="2"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="3"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="4"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="5"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="6"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="7"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="8"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="9"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_max" value="10"/><span></span></div><p class="poll-small">Obecnie</p><div class="radios"><input class="sheet-normal sheet-zero" type="radio" name="attr_pool_value" value="0" checked="checked"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="1"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="2"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="3"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="4"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="5"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="6"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="7"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="8"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="9"/><span></span><input class="sheet-normal" type="radio" name="attr_pool_value" value="10"/><span></span></div></div><div class="col-12"><h2>Przedmioty</h2><textarea class="condition-description" name="attr_statesInfo" placeholder="Dodatkowy opis stanu"></textarea><textarea class="inventory" name="attr_equipment" placeholder="Posiadane przedmioty"></textarea></div></div></div><div class="col-12 col-md-6 order-md-0"><div class="pd-container"><h2>PD</h2><div class="pd-container"><input class="sheet-check" type="checkbox" name="attr_pd1" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd2" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd3" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd4" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd5" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd6" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd7" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd8" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd9" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd10" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd11" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd12" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd13" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd14" value="1"/><span></span><input class="sheet-check" type="checkbox" name="attr_pd15" value="1"/><span></span></div></div></div></div></div></section><footer><a href="https://skybluekey.itch.io/">skybluekey.itch.io</a></footer></div></div><script type="text/worker">   (function () {
   "use strict";var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var characters = {
    'Magister Lor': {
        'name': 'Magister Lor',
        'description': 'Ostatni strażnik pradawnego sanktuarium, gdzie demony z dawnych dni spętano w kryształowym więzieniu',
        'traitsSections': [
            {
                'name': 'Mędrzec',
                'traits': [
                    {
                        'name': 'Przenikliwy',
                        'value': 2
                    },
                    {
                        'name': 'Zamiary',
                        'value': 1
                    },
                    {
                        'name': 'Uczony',
                        'value': 1
                    },
                    {
                        'name': 'Sztuka',
                        'value': 1
                    },
                    {
                        'name': 'Historia',
                        'value': 1
                    },
                    {
                        'name': 'Okultyzm',
                        'value': 1
                    },
                    {
                        'name': 'Demonologia',
                        'value': 1
                    },
                    {
                        'name': 'Negocjacje',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Myśli',
                        'value': 0
                    },
                    {
                        'name': 'Uczucia',
                        'value': 0
                    },
                ],
                'traits_sgl_2': []
            },
            {
                'name': 'Czarodziej',
                'traits': [
                    {
                        'name': 'Mistrz',
                        'value': 2
                    },
                    {
                        'name': 'Rytuały',
                        'value': 1
                    },
                    {
                        'name': 'Pogromca Demonów',
                        'value': 0,
                        'tags': []
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Atak',
                        'value': 1
                    },
                    {
                        'name': 'Obrona',
                        'value': 1
                    },
                    {
                        'name': 'Tworzenie',
                        'value': 1
                    },
                    {
                        'name': 'Kontrola',
                        'value': 1
                    },
                    {
                        'name': 'Wyczucie',
                        'value': 1
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Ogień',
                        'value': 1
                    },
                    {
                        'name': 'Burza',
                        'value': 1
                    },
                    {
                        'name': 'Esencja',
                        'value': 0
                    },
                    {
                        'name': 'Odepchnij',
                        'value': 1
                    },
                    {
                        'name': 'Przyciągnij',
                        'value': 1
                    },
                    {
                        'name': 'Rytuały',
                        'value': 1
                    },
                ]
            },
            {
                'name': 'Weteran',
                'traits': [
                    {
                        'name': 'Wysportowany',
                        'value': 1
                    },
                    {
                        'name': 'Twardziel',
                        'value': 1
                    },
                    {
                        'name': 'Przywódca',
                        'value': 1
                    },
                    {
                        'name': 'Strateg',
                        'value': 1
                    },
                    {
                        'name': 'Pilot',
                        'value': 1
                    },
                    {
                        'name': 'Tropiciel',
                        'value': 1
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Łowca Demonów',
                        'value': 0
                    },
                    {
                        'name': 'Łowca Potworów',
                        'value': 0
                    },
                ],
                'traits_sgl_2': []
            },
            {
                'name': 'Wojownik',
                'traits': [
                    {
                        'name': 'Mistrz',
                        'value': 2
                    },
                    {
                        'name': 'Bezlitosny',
                        'value': 0
                    },
                    {
                        'name': 'Pogromca Demonów',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Ostrza',
                        'value': 2
                    },
                    {
                        'name': 'Sztuki Walki',
                        'value': 1
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Atak',
                        'value': 1
                    },
                    {
                        'name': 'Obrona',
                        'value': 2
                    },
                    {
                        'name': 'Manewry',
                        'value': 1
                    },
                ]
            },
        ],
        'keys': [
            {
                'name': 'Klucz Równowagi',
                'description': 'Jesteś strażnikiem Równowagi. Co ma być, niech się stanie. Nie ma znaczenia co w związku z tym czujemy. Użyj tego klucza, gdy przedkładasz Równowagę nad wszystko inne.',
                'buyoff': 'Postąp wiedziony strachem, gniewem, współczuciem lub miłością.'
            },
            {
                'name': 'Klucz Obowiązku',
                'description': 'Musisz spętać wszystkie demony, które uciekły ze swego więzienia. Użyj tego klucza, gdy działasz, aby dopełnić swój obowiązek.',
                'buyoff': 'Pozwól demonowi być wolnym.'
            },
            {
                'name': 'Klucz Mentora',
                'description': 'Jesteś mentorem Kaia w dziedzinie Sztuk Magicznych. Użyj tego klucza, gdy przypominasz uczniowi o jego treningu, dzielisz się z nim pradawną wiedzą lub ganisz go za jego wady lub porażki.',
                'buyoff': 'Pozwól odejść swojemu uczniowi.'
            },
        ],
        'secrets': [
            {
                'name': 'Sekret Strelai',
                'description': 'Znasz sekretne rytuały przyzywania, kontroli oraz pętania demonów, lecz nigdy wcześniej ich nie używałeś. W twych dłoniach, gwiezdna stal żarzy się magiczną mocą i jest w stanie przeciąć absolutnie wszystko.'
            },
            {
                'name': 'Sekret Mistrza i Ucznia',
                'description': 'Gdy ty i twój uczeń działacie razem, wspierając wzajemnie swe zamiary, każdy z was dodaje 1 kość to swoich rzutów.'
            },
        ],
        'states': [
            {
                'name': 'Chory*',
                'checked': 1
            },
            {
                'name': 'Ranny',
                'checked': 0
            },
            {
                'name': 'Wyssany',
                'checked': 0
            },
            {
                'name': 'Unieszkodliwiony',
                'checked': 0
            },
            {
                'name': 'Martwy (Przypuszczalnie)',
                'checked': 0
            },
            {
                'name': 'Zirytowany',
                'checked': 0
            },
            {
                'name': 'Omamiony',
                'checked': 0
            },
            {
                'name': 'Przytłoczony',
                'checked': 0
            },
        ],
        'statesInfo': '*Magister Lor cierpi na pewną dolegliwość i rozpoczyna ze stanem Chory.',
        'equipment': 'Szaty Strelai - Miecz z Gwiezdnej Stali - Biblioteka pełna okultystycznych ksiąg, artefaktów i komponentów używanych w rytuałach.',
        'poll': 4
    },
    'Kai Tuvari': {
        'name': 'Kai Tuvari',
        'description': 'Młodzieniec, którego krew przenika Esencja gwiazd. Od najmłodszych lat uczeń Magistra Lora',
        'traitsSections': [
            {
                'name': 'Dostrojony',
                'traits': [
                    {
                        'name': 'Czujny',
                        'value': 1
                    },
                    {
                        'name': 'Silna wola',
                        'value': 2
                    },
                    {
                        'name': 'Uczony',
                        'value': 1
                    },
                    {
                        'name': 'Sztuka',
                        'value': 1
                    },
                    {
                        'name': 'Historia',
                        'value': 1
                    },
                    {
                        'name': 'Demonologia',
                        'value': 1
                    },
                    {
                        'name': 'Magiczny Wzrok',
                        'value': 0
                    },
                    {
                        'name': 'Podróż przez Sen',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [],
                'traits_sgl_2': []
            },
            {
                'name': 'Czarodziej',
                'traits': [
                    {
                        'name': 'Rytuały',
                        'value': 1
                    },
                    {
                        'name': 'Pogromca Demonów',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Atak',
                        'value': 0
                    },
                    {
                        'name': 'Obrona',
                        'value': 1
                    },
                    {
                        'name': 'Tworzenie',
                        'value': 1
                    },
                    {
                        'name': 'Kontrola',
                        'value': 0
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Ogień',
                        'value': 1
                    },
                    {
                        'name': 'Burza',
                        'value': 0
                    },
                    {
                        'name': 'Światło',
                        'value': 1
                    },
                    {
                        'name': 'Mrok',
                        'value': 0
                    },
                    {
                        'name': 'Odepchnij',
                        'value': 1
                    },
                    {
                        'name': 'Przyciągnij',
                        'value': 1
                    },
                    {
                        'name': 'Roztrzaskaj',
                        'value': 0
                    },
                ]
            },
            {
                'name': 'Adept',
                'traits': [
                    {
                        'name': 'Wysportowany',
                        'value': 2
                    },
                    {
                        'name': 'Akrobata',
                        'value': 1
                    },
                    {
                        'name': 'Twardziel',
                        'value': 0
                    },
                    {
                        'name': 'Skryty',
                        'value': 1
                    },
                    {
                        'name': 'Medycyna',
                        'value': 1
                    },
                    {
                        'name': 'Leczenie',
                        'value': 1
                    },
                    {
                        'name': 'Uzdrowiciel',
                        'value': 0
                    },
                    {
                        'name': 'Heroiczny',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [],
                'traits_sgl_2': []
            },
            {
                'name': 'Wojownik',
                'traits': [
                    {
                        'name': 'Ocena sytuacji',
                        'value': 0
                    },
                    {
                        'name': 'Pogromca Demonów',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Ostrze',
                        'value': 1
                    },
                    {
                        'name': 'Sztuki walki',
                        'value': 1
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Atak',
                        'value': 1
                    },
                    {
                        'name': 'Obrona',
                        'value': 1
                    },
                    {
                        'name': 'Manewry',
                        'value': 1
                    },
                ]
            },
        ],
        'keys': [
            {
                'name': 'Klucz Bliźniąt',
                'description': 'Kel jest twoim bratem bliźniakiem. Użyj tego klucza, gdy przedkładasz bezpieczeństwo twego brata nad wszystko inne.',
                'buyoff': 'Pozwól by Kel cierpiał.'
            },
            {
                'name': 'Klucz Obowiązku',
                'description': 'Musisz spętać wszystkie demony, które uciekły ze swego więzienia. Użyj tego klucza, gdy działasz, aby dopełnić swój obowiązek.',
                'buyoff': 'Pozwól demonowi być wolnym.'
            },
            {
                'name': 'Klucz Ucznia',
                'description': 'Jesteś uczniem Magistra Lora w dziedzinie Sztuk Magicznych. Użyj tego klucza, gdy przedkładasz rozkazy lub wartości twego mistrza ponad wszystko inne.',
                'buyoff': 'Sam zostań Magistrem lub odejdź ze służby u swego mistrza.'
            },
        ],
        'secrets': [
            {
                'name': 'Sekret Światła',
                'description': 'Twe wnętrze zamieszkuje światłość, podobna do blasku świetlistej gwiazdy. Każda kreatura mroku, która cię dotknie, zaznaje straszliwego cierpienia. Skupiona siła twojej woli jest w stanie je odpędzić (używając cechy Dostrojony).'
            },
            {
                'name': 'Sekret Esencjokrwistości',
                'description': 'Raz na odświeżenie możesz przerzucić wszystkie swoje kości, na których wypadła porażka.'
            },
        ],
        'states': [
            {
                'name': '*Chory',
                'checked': 0
            },
            {
                'name': 'Ranny',
                'checked': 0
            },
            {
                'name': 'Wyssany',
                'checked': 0
            },
            {
                'name': 'Unieszkodliwiony',
                'checked': 0
            },
            {
                'name': 'Martwy (Rzekomo)',
                'checked': 0
            },
            {
                'name': 'Zirytowany',
                'checked': 0
            },
            {
                'name': 'Omamiony',
                'checked': 0
            },
            {
                'name': 'Przytłoczony',
                'checked': 0
            },
        ],
        'statesInfo': '',
        'equipment': 'Szaty Strelai - Miecz z gwiezdnej stali - Sakwy przy pasie zawierające remedium na dolegliwość Magistra oraz inne medykamenty.',
        'poll': 6
    },
    'Kel Tuvari': {
        'name': 'Kel Tuvari',
        'description': 'Młodzieniec naznaczony mrokiem, związany sekretna przysięgą z demonicą Setarrą',
        'traitsSections': [
            {
                'name': 'Ryzykant',
                'traits': [
                    {
                        'name': 'Wysportowany',
                        'value': 2
                    },
                    {
                        'name': 'Lekkomyślny',
                        'value': 2
                    },
                    {
                        'name': 'Pilot',
                        'value': 1
                    },
                    {
                        'name': 'Akrobacje Powietrzne',
                        'value': 1
                    },
                    {
                        'name': 'Walka Powietrzna',
                        'value': 0
                    },
                    {
                        'name': 'Uniki',
                        'value': 0
                    },
                    {
                        'name': 'Inspirujący',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [],
                'traits_sgl_2': []
            },
            {
                'name': 'Dostrojony',
                'traits': [
                    {
                        'name': 'Magiczny Wzrok',
                        'value': 2
                    },
                    {
                        'name': 'Podróż przez Sen',
                        'value': 1
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Odczynienie',
                        'value': 2
                    },
                    {
                        'name': 'Atak',
                        'value': 0
                    },
                    {
                        'name': 'Obrona',
                        'value': 0
                    },
                    {
                        'name': 'Kontrola',
                        'value': 0
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Próżnia',
                        'value': 1
                    },
                    {
                        'name': 'Sztuki magiczne',
                        'value': 1
                    },
                    {
                        'name': 'Esencja',
                        'value': 0
                    },
                    {
                        'name': 'Demoniczna Moc',
                        'value': 0
                    },
                ]
            },
            {
                'name': 'Doświadczony',
                'traits': [
                    {
                        'name': 'Podróżnik',
                        'value': 2
                    },
                    {
                        'name': 'Półświatek',
                        'value': 1
                    },
                    {
                        'name': 'Piraci',
                        'value': 1
                    },
                    {
                        'name': 'Rewolucjoniści',
                        'value': 1
                    },
                    {
                        'name': 'Wykształcony',
                        'value': 1
                    },
                    {
                        'name': 'Oklutyzm',
                        'value': 0
                    },
                    {
                        'name': 'Demonologia',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Kultury',
                        'value': 1
                    },
                    {
                        'name': 'Języki',
                        'value': 1
                    },
                ],
                'traits_sgl_2': []
            },
            {
                'name': 'Ocalały',
                'traits': [
                    {
                        'name': 'Zaprawiony w Walce',
                        'value': 1
                    },
                    {
                        'name': 'Skryty',
                        'value': 1
                    },
                    {
                        'name': 'Nieustraszony',
                        'value': 1
                    },
                    {
                        'name': 'Czarny Koń',
                        'value': 1
                    },
                    {
                        'name': 'Twardziel',
                        'value': 1
                    },
                    {
                        'name': 'Szabrownik',
                        'value': 1
                    },
                    {
                        'name': 'Brutal',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Ostrze',
                        'value': 0
                    },
                    {
                        'name': 'Pięści',
                        'value': 0
                    },
                ],
                'traits_sgl_2': []
            },
        ],
        'keys': [
            {
                'name': 'Klucz Bliźniąt',
                'description': 'Kai jest twoim bratem bliźniakiem. Użyj tego klucza, gdy przedkładasz bezpieczeństwo twego brata nad wszystko inne.',
                'buyoff': 'Pozwól by Kai cierpiał.'
            },
            {
                'name': 'Klucz Demonicznej Przysięgi',
                'description': 'Poprzysiągłeś pomóc Setarrze w wyzwoleniu jej oraz jej braci z kryształowego więzienia. Użyj tego klucza, gdy wspierasz Setarrę w jej misji.',
                'buyoff': 'Złam przysięgę i w konsekwencji zaznaj męczarni.'
            },
            {
                'name': 'Klucz Wyrzutka',
                'description': 'Pozbawiony mentora, dorastałeś pośród innych wyrzutków polegając tylko na sobie. Użyj tego klucza, gdy twoja zachowawcza i podejrzliwa natura sprowadza na ciebie kłopoty.',
                'buyoff': 'Okaż wierność mistrzowi, ukochanej osobie lub organizacji.'
            },
        ],
        'secrets': [
            {
                'name': 'Sekret Próżni',
                'description': 'W twym wnętrzu kryje się mrok, podobny do próżni znajdującej się ponoć po drugiej stronie nieba. Możesz negować energię magiczną i Sztuki Magiczne (używając cechy Dostrojony). Możesz też stać się łącznikiem i przewodnikiem dla pożerającej wszystko próżni.'
            },
            {
                'name': 'Sekret Próżniokrwistości',
                'description': 'Raz na odświeżenie, zmuś inną, widzianą przez ciebie postać, aby przerzuciła wszystkie swoje kości, na których wypadł sukces.'
            },
        ],
        'states': [
            {
                'name': 'Chory',
                'checked': 0
            },
            {
                'name': 'Ranny',
                'checked': 0
            },
            {
                'name': 'Wyssany',
                'checked': 0
            },
            {
                'name': 'Unieszkodliwiony',
                'checked': 0
            },
            {
                'name': 'Martwy (Rzekomo)',
                'checked': 0
            },
            {
                'name': 'Zirytowany',
                'checked': 0
            },
            {
                'name': 'Omamiony',
                'checked': 0
            },
            {
                'name': 'Przytłoczony',
                'checked': 0
            },
        ],
        'statesInfo': '',
        'equipment': 'Strój podróżny - Peleryna do szybowania - Maska tlenowa - Sztylet - Mały statek powietrzny.',
        'poll': 6
    },
    'Setarra': {
        'name': 'Setarra',
        'description': 'Pradawna demonica, która zerwawszy kajdany, kroczy ścieżką zemsty oraz wyzwolenia',
        'traitsSections': [
            {
                'name': 'Przebiegła',
                'traits': [
                    {
                        'name': 'Oszustwo',
                        'value': 2
                    },
                    {
                        'name': 'Manipulacja',
                        'value': 2
                    },
                    {
                        'name': 'Uczona',
                        'value': 2
                    },
                    {
                        'name': 'Historia',
                        'value': 2
                    },
                    {
                        'name': 'Okultyzm',
                        'value': 1
                    },
                    {
                        'name': 'Arkana Magii',
                        'value': 1
                    },
                    {
                        'name': 'Zapomniane Tajemnice',
                        'value': 1
                    },
                    {
                        'name': 'Podstęp',
                        'value': 1
                    },
                    {
                        'name': 'Ludzka Postać',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [],
                'traits_sgl_2': []
            },
            {
                'name': 'Przerażająca',
                'traits': [
                    {
                        'name': 'Demoniczne Spojrzenie',
                        'value': 1
                    },
                    {
                        'name': 'Zastraszenie',
                        'value': 2
                    },
                    {
                        'name': 'Upiorna',
                        'value': 0
                    },
                    {
                        'name': 'Silna Wola',
                        'value': 2
                    },
                    {
                        'name': 'Niewzruszona',
                        'value': 0
                    },
                    {
                        'name': 'Hipnotyzująca',
                        'value': 0
                    },
                ],
                'traits_sgl_1': [],
                'traits_sgl_2': []
            },
            {
                'name': 'Sztuki Magiczne',
                'traits': [
                    {
                        'name': 'Moc',
                        'value': 2
                    },
                    {
                        'name': 'Wyssanie',
                        'value': 1
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Przyzwanie',
                        'value': 1
                    },
                    {
                        'name': 'Kontrola',
                        'value': 1
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Woda',
                        'value': 2
                    },
                    {
                        'name': 'Burza',
                        'value': 2
                    },
                    {
                        'name': 'Chmury',
                        'value': 2
                    },
                    {
                        'name': 'Lewiatany',
                        'value': 1
                    },
                    {
                        'name': 'Esencja',
                        'value': 0
                    },
                ]
            },
            {
                'name': 'Potworna',
                'traits': [
                    {
                        'name': 'Demoniczna',
                        'value': 2
                    },
                    {
                        'name': 'Silna',
                        'value': 1
                    },
                    {
                        'name': 'Szybka',
                        'value': 1
                    },
                ],
                'traits_sgl_1': [
                    {
                        'name': 'Potężne Szpony',
                        'value': 1
                    },
                    {
                        'name': 'Miażdżący Chwyt',
                        'value': 1
                    },
                ],
                'traits_sgl_2': [
                    {
                        'name': 'Pogromczyni Czarodziejów',
                        'value': 1
                    },
                    {
                        'name': 'Pogromczyni Demonów',
                        'value': 0
                    },
                ]
            },
        ],
        'keys': [
            {
                'name': 'Klucz Zemsty',
                'description': 'Sprowadzisz cierpienie na tych, którzy spętali ciebie i twych braci w kryształowym więzieniu. Użyj tego klucza, gdy wywierasz swą zemstę na tych, którzy na to zasłużyli.',
                'buyoff': 'Wybacz im.'
            },
            {
                'name': 'Klucz Wyzwolicielki',
                'description': 'Uwolnisz każdego spętanego demona, którego napotkasz. Użyj tego klucza, gdy próbujesz to zrobić.',
                'buyoff': 'Porzuć demona w niewoli.'
            },
            {
                'name': 'Klucz Niewolnicy',
                'description': 'Jesteś demonem, zaprzysiężonym przez magię do posłuszeństwa, gdy znajdziesz się pod jej wpływem. Użyj tego klucza, gdy podporządkowujesz się czarodziejowi i jego magicznym rozkazom.',
                'buyoff': 'Sprzeciw się woli czarodzieja.'
            },
        ],
        'secrets': [
            {
                'name': 'Sekret Morskiego Demona',
                'description': 'Jesteś nieśmiertelna. Nie można cię zabić lub zniszczyć, lecz magia i gwiezdna stal są w stanie cię zranić. Można cię spętać rytualną magią oraz kontrolować rozkazami czarodzieja. Stworzono cię w pradawnym oceanie i znasz pieśń przyzywającą Lewiatany - potężne demony z Głębin.'
            },
            {
                'name': 'Sekret Wyssania Esencji',
                'description': 'Raz na odświeżenie możesz wyssać esencję życiową z maksymalnie czwórki ludzi, których widzisz. Ci mogą próbować się bronić lub unikać twojej mocy, o ile są w stanie. Jeśli przełamiesz ich opór, każdemu z nich kradniesz jedną kość z puli (mogą przekroczyć twoje maksimum). Jeśli nie mają żadnych kości, stają się Wyssani.'
            },
        ],
        'states': [
            {
                'name': 'Ranna',
                'checked': 0
            },
            {
                'name': 'Wyssana',
                'checked': 0
            },
            {
                'name': 'Odpędzona',
                'checked': 0
            },
            {
                'name': 'Osłabiona',
                'checked': 0
            },
            {
                'name': 'Spętana',
                'checked': 0
            },
            {
                'name': 'Wściekła',
                'checked': 0
            },
            {
                'name': 'Omamiona',
                'checked': 0
            },
            {
                'name': 'Zdominowana',
                'checked': 0
            },
        ],
        'statesInfo': '',
        'equipment': 'Wielkie, czarne rekinie oczy - Potężne szpony i zęby - Czarne, mokre łuski - Szkaradne piękno.',
        'poll': 8
    },
    'empty': {
        'name': '',
        'description': '',
        'traitsSections': [],
        'keys': [],
        'secrets': [],
        'states': [],
        'statesInfo': '',
        'equipment': '',
        'poll': 4
    }
};
var _this = this;
var fillRepeatingSectionFromData = function (sectionName, dataList) {
    getSectionIDs("repeating_".concat(sectionName), function (idList) {
        var existingRowAttributes = [];
        idList.map(function (id) { return removeRepeatingRow("repeating_".concat(sectionName, "_").concat(id)); });
        getAttrs(existingRowAttributes, function (v) {
            var existingRowNames = existingRowAttributes.map(function (name) { return v[name]; }), createdIDs = [], setting = dataList.filter(function (o) { return !existingRowNames.includes(o.name); })
                .map(function (o) {
                var rowID;
                while (!rowID) {
                    var newID = generateRowID();
                    if (!createdIDs.includes(newID)) {
                        rowID = newID;
                        createdIDs.push(rowID);
                    }
                }
                return Object.keys(o).reduce(function (m, key) {
                    m["repeating_".concat(sectionName, "_").concat(rowID, "_").concat(key)] = o[key];
                    return m;
                }, {});
            })
                .reduce(function (m, o) { return Object.assign(m, o); }, {});
            console.log(setting);
            setAttrs(setting);
        });
    });
};
$20('.selectCharacterButton').on('click', function (e) { return __awaiter(_this, void 0, void 0, function () {
    var character, updateAttributes, idx, name_1;
    return __generator(this, function (_a) {
        character = characters[e.htmlAttributes['data-character']];
        if (!character) {
            console.log('Nie znaleziono postaci ' + e.htmlAttributes['data-character']);
        }
        else {
            updateAttributes = {
                'character_name': character.name,
                'character_description': character.description,
                'pool_max': character.poll,
                'equipment': character.equipment,
                'statesInfo': character.statesInfo
            };
            fillRepeatingSectionFromData("secrets", character.secrets);
            fillRepeatingSectionFromData("keys", character.keys);
            fillRepeatingSectionFromData("condition", character.states);
            for (idx = 0; idx < 6; idx++) {
                name_1 = '';
                if (character.traitsSections[idx]) {
                    name_1 = character.traitsSections[idx].name;
                    fillRepeatingSectionFromData("tagx".concat(idx, "x0"), character.traitsSections[idx].traits);
                    fillRepeatingSectionFromData("tagx".concat(idx, "x1"), character.traitsSections[idx].traits_sgl_1);
                    fillRepeatingSectionFromData("tagx".concat(idx, "x2"), character.traitsSections[idx].traits_sgl_2);
                }
                updateAttributes["trait_".concat(idx)] = name_1;
            }
            setAttrs(updateAttributes);
        }
        setAttrs({
            view_mode: "1"
        });
        return [2];
    });
}); });
$20('.selectChar').on('click', function (e) { return __awaiter(_this, void 0, void 0, function () {
    return __generator(this, function (_a) {
        setAttrs({
            view_mode: "0"
        });
        return [2];
    });
}); });
   })();</script>